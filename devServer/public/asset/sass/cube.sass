/* @import 'compass/reset' */
@import 'compass/css3'
// @import 'compass/css3/transform'

$box-size: 50px

// @mixin flex-center
//   @include display-flex
//   @include align-items(center)
//   @include justify-content(center)

@mixin cubeFigure($rX, $rY, $mZ)
  transform: rotateX($rX+deg) rotateY($rY+deg) translateZ($mZ+px)

@mixin locateCubeZ($mX, $mY)
  &.z1
    transform: translateX($mX+px) translateY($mY+px) translateZ(-50px)
  &.z2
    transform: translateX($mX+px) translateY($mY+px) translateZ(0px)
  &.z3
    transform: translateX($mX+px) translateY($mY+px) translateZ(50px)

@mixin locateCubeY($mX)
  &.y1
    +locateCubeZ($mX, -50)
  &.y2
    +locateCubeZ($mX, 0)
  &.y3
    +locateCubeZ($mX, 50)

@mixin locateCube
  &.x1
    +locateCubeY(-50)
  &.x2
    +locateCubeY(0)
  &.x3
    +locateCubeY(50)

body
  @include display-flex
  @include flex-direction(center)
  background-color: #333
  padding-top: 300px

.container
  position: absolute
  left: 50%
  @include perspective( relative )
  perspective: 1000px
  width: $box-size * 3
  height: $box-size * 3
  margin-left: -$box-size / 2
  // opacity: 0
  // &#x1y2z3
  //   opacity: 1

.cube
  @include transform-style(preserve-3d)
  position: absolute
  width: 100%
  height: 100%
  border: 1px solid white
  figure
    display: block
    position: absolute
    border: 4px solid black
    border-radius: 2px
    width: $box-size - 4px
    height: $box-size - 4px
    margin: 0px
    &.front
      +cubeFigure(0, 0, 25)
      background-color: red
    &.right
      +cubeFigure(0, 90, 25)
      background-color: blue
    &.left
      +cubeFigure(0, -90, 25)
      background-color: white
    &.back
      +cubeFigure(180, 0, 25)
      background-color: yellow
    &.top
      +cubeFigure(90, 0, 25)
      background-color: green
    &.bottom
      +cubeFigure(-90, 0, 25)
      background-color: rgb(235, 159, 12)

.animate
  animation: rolling 6s infinite
  animation-timing-function: linear

@keyframes rolling
  from
    transform: rotateX(0deg)
  to
    transform: rotateX(360deg)
